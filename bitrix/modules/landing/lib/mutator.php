<? namespace Bitrix\Landing;$GLOBALS['____1784212451']= array(base64_decode('ZG'.'VmaW5l'),base64_decode('ZX'.'hwbG9'.'kZQ=='),base64_decode('c'.'GFjaw'.'=='),base64_decode('bWQ1'),base64_decode('Y'.'2'.'9uc3'.'RhbnQ='),base64_decode('aGFz'.'aF9obW'.'Fj'),base64_decode('c3'.'RyY21w'),base64_decode('Z'.'XhwbG9'.'kZQ=='),base64_decode('bW'.'t0'.'aW1l'),base64_decode('dGlt'.'ZQ='.'='),base64_decode('ZXhwbG9'.'kZQ=='),base64_decode('cGFjaw=='),base64_decode('b'.'WQ1'),base64_decode('Y29'.'u'.'c'.'3R'.'hbn'.'Q='),base64_decode('aGFzaF9'.'obWF'.'j'),base64_decode(''.'c'.'3'.'RyY2'.'1w'),base64_decode('ZXhwbG'.'9kZQ=='),base64_decode('bWt0aW'.'1l'),base64_decode('dGl'.'t'.'ZQ='.'='),base64_decode('a'.'W5fYX'.'J'.'y'.'YXk='),base64_decode('c'.'HJlZ19yZXBsYWNlX'.'2NhbGxiYWN'.'r'),base64_decode('c3RydG9s'.'b3dlcg='.'='),base64_decode('cHJlZ19'.'tYX'.'R'.'jaA=='),base64_decode('cHJlZ'.'19'.'yZXBsY'.'WNlX2NhbG'.'xiYWNr'));if(!function_exists(__NAMESPACE__.'\\___517448404')){function ___517448404($_623392172){static $_2052293377= false; if($_2052293377 == false) $_2052293377=array('TEF'.'ORElOR19'.'N'.'VVRB'.'VE9SX01P'.'RE'.'U=','Z'.'ml'.'s'.'dGVy',''.'IUl'.'E',''.'U'.'FVCTE'.'lDX'.'1BBR0'.'VfUkVB'.'Q0hFRA==','TEFORElOR1'.'9Q'.'VUJM'.'SU'.'NfUEFHR'.'V9'.'S'.'RUF'.'DSEVE',''.'c2VsZWN'.'0','SUQ=','V'.'FlQ'.'RQ==','Z'.'m'.'lsdGVy','SU'.'Q'.'=','PUF'.'DVElWRQ==','Tg'.'==','ZmlsdGVy','I'.'U'.'l'.'E','S'.'U'.'Q=','dHlwZQ==','VFlQR'.'Q==','U'.'FVCTElDX'.'1NJVEVf'.'UkVBQ0hFR'.'A==','TEFORElOR19QVUJMSUNfU0lURV9SRU'.'FDSEVE','bGFuZ'.'Glu'.'Zw==',''.'b25MYW5k'.'aW5nUHVibGl'.'jYXRpb'.'24=',''.'aWQ=','RE'.'I'.'=',''.'U0VMR'.'UNUIFZBTFVFIEZST00gYl'.'9vcHRpb2'.'4g'.'V'.'0hFUkU'.'g'.'TkFNRT0'.'n'.'flBBUkFNX0ZJ'.'Tkl'.'TSF9EQ'.'VRFJyBBTk'.'QgTU9'.'EVUxFX0lEPSdtYWluJyBBTkQgU0lURV9'.'JR'.'CBJUyBO'.'VUxM','VkF'.'M'.'VUU=','L'.'g==','SCo=','Yml'.'0cml4',''.'T'.'E'.'l'.'DRU5TR'.'V9'.'LRV'.'k'.'=','c2hhMjU2','MjAxOC0wMS0wM'.'Q'.'==','MjAx'.'O'.'C0'.'w'.'MS0wMQ==','LQ==','TElDRU5TRV9FWFBJ'.'UkV'.'E','TEFORElOR19MSUNFTlN'.'FX0VYUEl'.'S'.'RUQ=','REI=','U0VMRUNUIFZB'.'TFVFIE'.'ZS'.'T00g'.'Yl9vcHR'.'pb24gV0hFU'.'kUgT'.'kFNRT'.'0nflBBUk'.'FNX0Z'.'J'.'Tk'.'lTSF9'.'EQVR'.'FJyBBTkQ'.'gTU'.'9'.'EVUxFX0l'.'EPSdt'.'YW'.'luJ'.'yB'.'B'.'Tk'.'QgU0lURV9JRCBJUyB'.'O'.'V'.'UxM','VkFMVUU=',''.'Lg='.'=','SCo=','Yml0cml'.'4','T'.'E'.'lDRU5T'.'RV9LRVk'.'=',''.'c2hhMjU2','M'.'j'.'AxOC0'.'wMS0w'.'MQ='.'=',''.'Mj'.'AxOC'.'0wMS'.'0'.'w'.'MQ==','LQ==','TE'.'lDRU5'.'TRV9FWFB'.'JUkVE',''.'TEF'.'ORElO'.'R19'.'M'.'SUNFT'.'l'.'NFX'.'0'.'VYUElS'.'RUQ=',''.'QUNUSVZF','WQ==','UFVCTElD','WQ==',''.'R'.'EFURV'.'9QVUJMS'.'UM=','REFURV9NT'.'0RJR'.'lk=','Q'.'UNU'.'SVZF','WQ='.'=',''.'LyhbXDsi'.'XXswLD'.'F9KSNibG9j'.'a'.'yhbXG'.'RdKykoW'.'1wm'.'Il1'.'7MCw'.'xfSkva'.'X'.'M=','c2Vs'.'ZWN0','SUQ'.'=','UF'.'V'.'CTElD','UE'.'FSRU5UX'.'0lE','Q0'.'9E'.'RQ==','U09SVA==',''.'QUNUSVZF','QU5DSE9S','QUND'.'R'.'V'.'NT','Q'.'09OVEVOVA'.'='.'=','Zm'.'lsd'.'G'.'Vy','TElE',''.'PURF'.'TEVU'.'R'.'UQ=',''.'Tg==','S'.'UQ=','U'.'FVCTElD','WQ==',''.'Q0'.'9OV'.'EVOVA==','L2hyZW'.'ZcPSIjY2'.'F'.'0Y'.'WxvZy'.'hFbGVt'.'Z'.'W'.'5'.'0fFNlY3R'.'pb24p'.'KFt'.'cZF0rKS'.'IvaQ==','aHJlZj'.'0i','Ig==','Q09OVE'.'VOVA==',''.'UEFSR'.'U'.'5UX'.'0lE','U'.'EF'.'SRU5UX'.'0l'.'E','SU'.'Q'.'=','U'.'09SVA==',''.'U0'.'9SVA==','QUNUS'.'VZF','QUNU'.'SVZF','QU5DSE9'.'S',''.'QU5'.'DSE9S',''.'Q'.'UNDRV'.'N'.'T','QUNDRVN'.'T','Q09O'.'VE'.'VOVA==','Q09O'.'VEVOVA==','UEFS'.'R'.'U'.'5UX0lE','Q09OVE'.'VO'.'V'.'A==','TElE',''.'Q09E'.'RQ==','Q09E'.'RQ==','U0'.'9SVA==',''.'U'.'0'.'9SVA='.'=','QU5DS'.'E9S','QU5'.'DSE9S','QUNU'.'SVZF','Q'.'UNUSV'.'Z'.'F','Q'.'UNDRVNT','Q'.'UNDRVNT','Q0'.'9O'.'VE'.'VO'.'VA='.'=','Q09'.'OVEVOV'.'A'.'==',''.'UEFSRU'.'5UX0lE','Q09O'.'VEV'.'OV'.'A==','Q09O'.'V'.'EVOVA==','Q09'.'OVEVO'.'VA==','I2Jsb2Nr','I'.'2'.'J'.'sb'.'2Nr',''.'Q09OVEV'.'OVA==');return base64_decode($_2052293377[$_623392172]);}}; use \Bitrix\Main\Event; use \Bitrix\Main\EventResult; use \Bitrix\Main\Localization\Loc; Loc::loadMessages(__FILE__); $GLOBALS['____1784212451'][0](___517448404(0), true); class Mutator{  public static function landingPublication(Landing $landing){ static $_166565735= array();  if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_PAGE, array( ___517448404(1) => array( ___517448404(2) => $landing->getId())))){ $landing->getError()->addError( ___517448404(3), Loc::getMessage(___517448404(4))); return false;}  $_404146331= Site::getList(array( ___517448404(5) => array( ___517448404(6), ___517448404(7)), ___517448404(8) => array( ___517448404(9) => $landing->getSiteId(), ___517448404(10) => ___517448404(11)))); if($_1773041187= $_404146331->fetch()){ if(!Manager::checkFeature( Manager::FEATURE_PUBLICATION_SITE, array( ___517448404(12) => array( ___517448404(13) => $_1773041187[___517448404(14)]), ___517448404(15) => $_1773041187[___517448404(16)]))){ $landing->getError()->addError( ___517448404(17), Loc::getMessage(___517448404(18))); return false;}}  $_530495647= new Event(___517448404(19), ___517448404(20), array( ___517448404(21) => $landing->getId())); $_530495647->send(); foreach($_530495647->getResults() as $_415414750){ if($_415414750->getResultType() == EventResult::ERROR){ foreach($_415414750->getErrors() as $_928295639){ $landing->getError()->addError( $_928295639->getCode(), $_928295639->getMessage());} return false;}} $_722619254= $GLOBALS[___517448404(22)]->Query(___517448404(23), true); if($_404146331= $_722619254->Fetch()){ $_1163995253= $_404146331[___517448404(24)]; list($_1879863398, $_1963683729)= $GLOBALS['____1784212451'][1](___517448404(25), $_1163995253); $_423584121= $GLOBALS['____1784212451'][2](___517448404(26), $_1879863398); $_178602713= ___517448404(27).$GLOBALS['____1784212451'][3]($GLOBALS['____1784212451'][4](___517448404(28))); $_132795943= $GLOBALS['____1784212451'][5](___517448404(29), $_1963683729, $_178602713, true); if($GLOBALS['____1784212451'][6]($_132795943, $_423584121) !== min(246,0,82)){ $_1963683729= ___517448404(30);}} else{ $_1963683729= ___517448404(31);} if(!empty($_1963683729)){ $_2145787871= $GLOBALS['____1784212451'][7](___517448404(32), $_1963683729); $_2121067532= $GLOBALS['____1784212451'][8]((159*2-318),(868-2*434),(928-2*464), $_2145787871[round(0+0.2+0.2+0.2+0.2+0.2)], $_2145787871[round(0+1+1)], $_2145787871[(1364/2-682)]); if($_2121067532 <= $GLOBALS['____1784212451'][9]()){ $landing->getError()->addError( ___517448404(33), Loc::getMessage(___517448404(34))); return false;}} $_722619254= $GLOBALS[___517448404(35)]->Query(___517448404(36), true); if($_404146331= $_722619254->Fetch()){ $_1163995253= $_404146331[___517448404(37)]; list($_1879863398, $_1963683729)= $GLOBALS['____1784212451'][10](___517448404(38), $_1163995253); $_423584121= $GLOBALS['____1784212451'][11](___517448404(39), $_1879863398); $_178602713= ___517448404(40).$GLOBALS['____1784212451'][12]($GLOBALS['____1784212451'][13](___517448404(41))); $_132795943= $GLOBALS['____1784212451'][14](___517448404(42), $_1963683729, $_178602713, true); if($GLOBALS['____1784212451'][15]($_132795943, $_423584121) !==(1224/2-612)){ $_1963683729= ___517448404(43);}} else{ $_1963683729= ___517448404(44);} if(!empty($_1963683729)){ $_2145787871= $GLOBALS['____1784212451'][16](___517448404(45), $_1963683729); $_2121067532= $GLOBALS['____1784212451'][17]((1152/2-576),(1008/2-504),(165*2-330), $_2145787871[round(0+1)], $_2145787871[round(0+0.4+0.4+0.4+0.4+0.4)], $_2145787871[(245*2-490)]); if($_2121067532 <= $GLOBALS['____1784212451'][18]()){ $landing->getError()->addError( ___517448404(46), Loc::getMessage(___517448404(47))); return false;}}  Block::publicationBlocks($landing); $_1284322241= new \Bitrix\Main\Type\DateTime; $_404146331= Landing::update($landing->getId(), array( ___517448404(48) => ___517448404(49), ___517448404(50) => ___517448404(51), ___517448404(52) => $_1284322241, ___517448404(53) => false));  if($_404146331->isSuccess()){ if( Manager::isB24() &&!$GLOBALS['____1784212451'][19]($landing->getSiteId(), $_166565735)){ $_166565735[]= $landing->getSiteId(); $_404146331= Site::update($landing->getSiteId(), array( ___517448404(54) => ___517448404(55))); $_404146331->isSuccess();} return true;} return false;}  public static function blocksPublication(\Bitrix\Landing\Landing $landing){ if($landing->exist()){ $_1146801889= $landing->getId(); $_299690724= array(); $_681896253= array(); $_398760382= array(); $_1204817894= ___517448404(56); $_404146331= Block::getList(array( ___517448404(57) => array( ___517448404(58), ___517448404(59), ___517448404(60), ___517448404(61), ___517448404(62), ___517448404(63), ___517448404(64), ___517448404(65), ___517448404(66)), ___517448404(67) => array( ___517448404(68) => $landing->getId(), ___517448404(69) => ___517448404(70)))); while($_1773041187= $_404146331->fetch()){ $_299690724[$_1773041187[___517448404(71)]]= $_1773041187;}  foreach($_299690724 as $_1163041934 => $_1122480857){ if($_1122480857[___517448404(72)] != ___517448404(73)){  $_1122480857[___517448404(74)]= $GLOBALS['____1784212451'][20]( ___517448404(75), function($_76402363){ return ___517448404(76). PublicAction\Utils::getIblockURL( $_76402363[round(0+1+1)], $GLOBALS['____1784212451'][21]($_76402363[round(0+0.2+0.2+0.2+0.2+0.2)])). ___517448404(77);}, $_1122480857[___517448404(78)]); $_658184355= isset($_299690724[$_1122480857[___517448404(79)]])? $_299690724[$_1122480857[___517448404(80)]][___517448404(81)]:(242*2-484); if($_658184355){ $_404146331= Block::update($_658184355, array( ___517448404(82) => $_1122480857[___517448404(83)], ___517448404(84) => $_1122480857[___517448404(85)], ___517448404(86) => $_1122480857[___517448404(87)], ___517448404(88) => $_1122480857[___517448404(89)], ___517448404(90) => $_1122480857[___517448404(91)])); $_404146331->isSuccess(); unset($_299690724[$_1122480857[___517448404(92)]]);  File::replaceInBlock( $_658184355, File::getFilesFromBlockContent( $_1163041934, $_1122480857[___517448404(93)]));} else{ $_404146331= Block::add(array( ___517448404(94) => $_1146801889, ___517448404(95) => $_1122480857[___517448404(96)], ___517448404(97) => $_1122480857[___517448404(98)], ___517448404(99) => $_1122480857[___517448404(100)], ___517448404(101) => $_1122480857[___517448404(102)], ___517448404(103) => $_1122480857[___517448404(104)], ___517448404(105) => $_1122480857[___517448404(106)])); if($_404146331->isSuccess()){ $_658184355= $_404146331->getId(); $_404146331= Block::update($_1163041934, array( ___517448404(107) => $_658184355)); $_404146331->isSuccess();  File::addToBlock( $_658184355, File::getFilesFromBlockContent( $_1163041934, $_1122480857[___517448404(108)]));}} if($GLOBALS['____1784212451'][22]($_1204817894, $_1122480857[___517448404(109)])){ $_681896253[$_658184355]= $_1122480857[___517448404(110)];} $_398760382[$_1163041934]= $_658184355; unset($_299690724[$_1163041934]);}}  foreach($_299690724 as $_1163041934 => $_1122480857){ $_404146331= Block::delete($_1163041934); $_404146331->isSuccess();}  foreach($_681896253 as $_1163041934 => $_1848181693){ $_1848181693= $GLOBALS['____1784212451'][23]( $_1204817894, function($_1212276350) use($_398760382){ if(isset($_398760382[$_1212276350[round(0+2)]])){ return $_1212276350[round(0+0.5+0.5)]. ___517448404(111). $_398760382[$_1212276350[round(0+0.5+0.5+0.5+0.5)]]. $_1212276350[round(0+0.6+0.6+0.6+0.6+0.6)];} else{ return $_1212276350[round(0+0.25+0.25+0.25+0.25)]. ___517448404(112). $_1212276350[round(0+0.66666666666667+0.66666666666667+0.66666666666667)]. $_1212276350[round(0+1+1+1)];}}, $_1848181693); $_404146331= Block::update($_1163041934, array( ___517448404(113) => $_1848181693)); $_404146331->isSuccess();}}}}?>